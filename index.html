<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Â¿Quieres ser mi San ValentÃ­n?</title>

<style>
*{box-sizing:border-box}

body{
    margin:0;
    font-family: Arial, sans-serif;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background:#ffd6e7;
    overflow:hidden;
}

/* ğŸ’— Fondo animado */
.bg-anim{
    position:fixed;
    inset:0;
    z-index:-2;
    background: linear-gradient(45deg,#ffd6e7,#ffc2dc,#ffb3d6,#ffd6e7);
    background-size:400% 400%;
    animation:bgMove 12s ease infinite;
}

@keyframes bgMove{
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}

/* ğŸŒ¸ PÃ©talos */
.petals{
    position:fixed;
    inset:0;
    pointer-events:none;
    overflow:hidden;
    z-index:-1;
}

.petal{
    position:fixed;
    top:-40px;
    font-size:22px;
    animation:fall linear forwards;
}

@keyframes fall{
    to{
        transform:translateY(110vh) rotate(360deg);
        opacity:0.9;
    }
}

.card{
    position:relative;
    z-index:2;
    background:#fff0f6;
    border-radius:20px;
    padding:24px;
    text-align:center;
    box-shadow:0 10px 25px rgba(0,0,0,.15);
    max-width:760px;
    width:90%;
}

button{
    padding:12px 22px;
    margin:10px;
    border:none;
    border-radius:12px;
    font-size:18px;
    cursor:pointer;
}

.si{background:#ff4d88;color:white;}
.no{background:#ccc;}
.hidden{display:none;}

.row{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:20px;
    margin:18px 0;
    flex-wrap:wrap;
}

.cow{
    width:220px;
    max-width:60vw;
}
</style>
</head>

<body>

<div class="bg-anim"></div>
<div class="petals" id="petals"></div>

<div id="start" class="card">
    <h2>ğŸ’Œ Toca para abrir tu carta ğŸ’Œ</h2>
    <button onclick="openLetter()">Abrir</button>
</div>

<div id="main" class="card hidden">
    <h2>Para alguien muy especial ğŸ’–</h2>

    <div class="row">
        <p>Te mereces todos los dulces del mundo ğŸ¬</p>
        <img id="cow" class="cow" src="vaca.png">
        <p id="proposal">Â¿Quieres ser mi San ValentÃ­n?</p>
    </div>

    <button class="si" onclick="sayYes()">SÃ­ ğŸ’˜</button>
    <button id="noBtn" class="no" onclick="sayNo()">No ğŸ˜¢</button>
</div>

<!-- ğŸµ AUDIO -->
<audio id="music" src="musica.mp3" loop></audio>
<audio id="fart" src="pedo.mp3"></audio>

<script>
let noCount = 0;
let noActivated = false;

/* ğŸµ Abrir carta + mÃºsica */
function openLetter(){
    document.getElementById('start').classList.add('hidden');
    document.getElementById('main').classList.remove('hidden');

    const music = document.getElementById('music');
    music.volume = 0.18;
    music.play();
}

/* ğŸ’˜ Dice SÃ­ */
function sayYes(){
    document.getElementById('cow').src = 'vaca_bailando.gif';
    document.getElementById('proposal').textContent =
        "ğŸ’˜ SabÃ­a que dirÃ­as que sÃ­â€¦ te quiero mucho princesa ğŸ’˜";

    document.querySelector('.si').style.display='none';
    document.getElementById('noBtn').style.display='none';
}

/* ğŸ˜ˆ Dice No */
function sayNo(){

    // ğŸ’¨ sonido de pedo
    const fart = document.getElementById('fart');
    fart.currentTime = 0;
    fart.play();

    const cow = document.getElementById('cow');
    const text = document.getElementById('proposal');
    const btn = document.getElementById('noBtn');

    const messages = [
        "Â¿Segura? ğŸ¥º",
        "Prometo compartir mis papitas ğŸŸ",
        "La vaca estÃ¡ triste ğŸ„ğŸ’”",
        "No seas cruel ğŸ˜­",
        "Ãšltima oportunidad ğŸ¥ºğŸ’˜"
    ];

    text.textContent = messages[Math.min(noCount, messages.length - 1)];

    if(!noActivated){
        cow.src = 'vaca_enojada.png';
        noActivated = true;

        btn.addEventListener('mouseenter', escapeButton);
        btn.addEventListener('touchstart', escapeButton);
    }

    noCount++;
}

/* ğŸ˜ˆ BotÃ³n imposible */
function escapeButton(){
    const btn = document.getElementById('noBtn');
    const maxX = window.innerWidth - btn.offsetWidth;
    const maxY = window.innerHeight - btn.offsetHeight;

    btn.style.position='fixed';
    btn.style.left=Math.random()*maxX+'px';
    btn.style.top=Math.random()*maxY+'px';
}

/* ğŸŒ¸ Generador de pÃ©talos */
const petalContainer=document.getElementById('petals');

setInterval(()=>{
    const petal=document.createElement('div');
    petal.className='petal';

    const flowers=['ğŸŒº','ğŸŒ¸','ğŸŒ·','ğŸŒ¹','ğŸ’®'];
    petal.textContent=flowers[Math.floor(Math.random()*flowers.length)];

    petal.style.left=Math.random()*window.innerWidth+'px';
    petal.style.animationDuration=(6+Math.random()*4)+'s';
    petal.style.filter='brightness(0.85) saturate(1.2)';

    petalContainer.appendChild(petal);

    setTimeout(()=>petal.remove(),10000);
},400);
</script>

</body>
</html>
